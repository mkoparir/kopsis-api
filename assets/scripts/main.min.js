/*!
 * kopsis - kop-med v1.0.0 ()
 * Copyright 2013-2021 Mustafa KOPARIR
 * Licensed under ISC (https://github.com/mkoparir/kop-med/blob/master/LICENSE)
 */

function anasayfa(){$.ajax({type:"get",url:"anasayfa.php",dataType:"json",success:function(a){var s=a.tag.values;$.each(s,function(a,s){var i=s.adi,i='<a href="#/netfilm-'+s.link+'" class="btnm btn flex" data-wow-delay=".8s" data-wow-duration="1.8s" style="visibility: visible; animation-duration: 1.8s; animation-delay: 0.8s; animation-name: fadeInUp;"><i class="fas fa-play"></i>'+i+"</a>";$(".tags").append(i)});s=a.soneklenen.values;$.each(s,function(a,s){var i=s.adi,l=(s.imdb,s.link),e=s.resim,t=s.tur,s=(s.yil,s.pacem);if(aktif="1"==s?(active='class="active" aria-current="true"',"active"):active="",persa='<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="'+a+'"  '+active+' aria-label="Slide '+s+'"></button>',$(".carousel-indicators").append(persa),caroin='<div class="carousel-item '+aktif+'"><img src="http://sinefy.com'+e+'" class="d-block w-100" alt="..."><div class="carousel-caption d-none d-md-block"><h5>'+i+"</h5><p>"+t+'</p><a href="#/detay/izle'+l+'" class="btn btnm"> Detay</a></div></div>',$(".carousel-inner").append(caroin),6==a)return!1});s=a.iddizi.values;$.each(s,function(a,s){var i=s.adi,l=s.link,l='<div class="col-6 col-md-4 col-lg-3 col-xl-2 mb-3"><div class="card"><img src="https://sinefy.com'+s.resim+'" class="card-img-top"><div class="card-body"><h5 class="card-title">'+i+'</h5><p class="card-text">'+s.tur+'</p><a href="#/detay'+l+'" class="btn btnm"> Detay</a></div></div></div>';$(".diz").append(l)});a=a.yakinda.values;$.each(a,function(a,s){var i=s.adi,l=s.link,e=s.resim,l=(s.tur,'<div class="col-6 col-md-4 col-lg-3 col-xl-2 mb-3"><div class="card"><img src="https://sinefy.com'+e+'" class="card-img-top"><div class="card-body"><h5 class="card-title">'+i+'</h5><p class="card-text">YakÄ±nda Eklenecek</p><a href="#/detay'+l+'" class="btn btnm"> Detay</a></div></div></div>');$(".yakin").append(l)})}})}function katshow(a){$.ajax({type:"post",url:"kategori.php",data:"link="+a,dataType:"json",success:function(a){$.each(a,function(a,s){s.category;var s=s.values,l='<ul class="list-group">';$.each(s,function(a,s){var i=s.adi,s=s.link;"Film"==i||"Dizi"==i||(l+='<li class="list-group-item"><a href="#/kategori'+s+'"  class="kelime mfp-close">'+i+"</a></li>")}),l+="</ul></li>",$(".katlist").html(l)}),$.magnificPopup.open({items:{src:"#anamenu"},type:"inline",preloader:!0,fixedContentPos:!0,fixedBgPos:!0,showCloseBtn:!1,overflowY:"auto"})}})}function pagelist(a,s,e){var i,l,t,c,n,o=e;o++,i=-1!=a.indexOf("dizi")?"gozat/diziler":"gozat","gozat"==a?(l=a,n=(l=-1!=(n=s).indexOf("dizi")?"gozatdizi":"gozatfilm",a+"/"+s),$(".gelen").html(s.replace(/[-/\s]/g,"-").replace(/[-/\s]/gi," ")+'<i class="btn sag kucuk" onclick="katshow(\''+i+"')\">Kategoriler</i>")):(l=(c=a.split("-"))[0],t=c[1],a=c[2],null!=(c=c[3])&&(a=a+"-"+c),null!=s&&(a=a+"/"+s),$(".gelen").html(t.replace(/[-/\s]/g,"-").replace(/[-/\s]/gi," ")+" "+a.replace(/[-/\s]/g,"-").replace(/[-/\s]/gi," ")+'<i class="btn sag kucuk" onclick="katshow(\''+i+"')\">Kategoriler</i>"),n=t+"-"+a),$.ajax({type:"post",url:"pagelist.php",data:"sayfa="+l+"&link="+n+"&page="+e,dataType:"json",success:function(a){$.each(a,function(a,s){var i=s.adi,l=s.link,l='<div class="col-6 col-md-4 col-lg-3 col-xl-2 mb-3"><div class="card"><img src="'+s.resim+'" class="card-img-top"><div class="card-body"><h5 class="card-title">'+i+'</h5><p class="card-text">'+s.bolum+'</p><a href="#/detay'+l+'" class="btn btnm"> Detay</a></div></div></div>';$(".icerik").append(l),null==e||$(".hepsipage").html('<a href="#/kategori/'+n+"/"+o+'" class="btn btnm right">Daha Fazla</a>')})}})}function detaylist(a,s){$(".gelen").html(s.replace(/[-\s]/g,"-").replace(/[-\s]/gi," ")),glink="id=/"+a+"/"+s,$.ajax({type:"post",url:"detaylist.php",data:glink,dataType:"json",success:function(a){$.each(a,function(a,s){var i=s.adi,l=s.ilk,e=s.aciklama,t=s.resim,c=s.bolume,s=s.values;$(".adi").html(i),$(".table").html(l),$(".acik").html(e),$(".resim").html('<img src="'+t+'" class="img-fluid rounded-start" style="width: 100%;">'),$.each(s,function(a,s){s="<a onclick=\"izle('"+s.link+'\')" class="btn m-3"><i class="fas fa-play"></i> '+s.title+" izle</a>";$(".linkizle").append(s)});var n="";$.each(c,function(a,s){var i=s.ad,l=s.link,s="Sezon-"+s.link1;n+='<div class="col-6 col-md-4 col-lg-3 col-xl-2 mb-3"><a onclick="blmykl(\''+l+"', '"+i+'\')" class="btn scroll-to-target" data-target=".resim">'+i+"-"+s+"</a></div>"}),$(".accordion").append(n)}),$(".scroll-to-target").on("click",function(){var a=$(this).attr("data-target");$("html, body").animate({scrollTop:$(a).offset().top},1e3)})}})}function blmykl(a,i){$.ajax({type:"post",url:"detaylist.php",data:"id="+a,dataType:"json",success:function(a){$(".linkizle").html(""),$.each(a,function(a,s){s=s.values;$.each(s,function(a,s){s="<a onclick=\"izle('"+s.link+'\')" class="btn m-3" > <i class="fas fa-play"></i>'+s.title+"-"+i+" izle</a>";$(".linkizle").append(s)})})}})}function izle(a){$.ajax({type:"post",url:"filmcek.php",data:"id="+a,dataType:"json",success:function(a){$.magnificPopup.open({items:{src:a.api_iframe,type:"iframe"}})}})}$("body").off("input","#kelime").on("input","#kelime",function(){var a=$(this).val(),i="",l="",s="",e="qr="+a,t=null;0<$("#kelime").length&&(e="qr="+a),a&&2<=a.length?($("#search-results").addClass("show"),$(".carousel").addClass("hide"),t=$.ajax({type:"POST",url:"arama.php",dataType:"json",data:e,beforeSend:function(){null!=t&&(t.abort(),$("#aramasonuc").html(""))},success:function(a){a&&(a.success?(window.currentSearch=!1,a&&(a.success?a.type||($.each(a.data.result,function(a,s){void 0!==s.s_type&&"1"==s.s_type&&(l+='<div class="col-6 col-md-4 col-lg-3 col-xl-2 mb-3"><div class="card"><img src="https://sinefy.com/uploads/series/'+s.s_image+'" class="card-img-top"><div class="card-body"><h5 class="card-title">'+s.s_customname+'</h5><p class="card-text">'+s.s_year+" "+s.s_name+'</p><a href="#/detay/izle/'+s.s_link+'" class="btn btnm"> Detay</a></div></div></div>'),void 0!==s.s_type&&"0"==s.s_type&&(i+='<div class="col-6 col-md-4 col-lg-3 col-xl-2 mb-3"><div class="card"><img src="https://sinefy.com/uploads/series/cover/'+s.s_image+'" class="card-img-top"><div class="card-body"><h5 class="card-title">'+s.s_customname+'</h5><p class="card-text">'+s.s_year+" "+s.s_name+'</p><a href="#/detay/izle/'+s.s_link+'" class="btn btnm"> Detay</a></div></div></div>')}),""!=i&&(s+='<h2 class="block-title">Diziler</h2> <div class="row" >'+i+"</div>"),""!=l&&(s+='<h2 class="block-title">Filmler</h2> <div class="row" >'+l+"</div>"),$("#aramasonuc").html(s)):$("#aramasonuc").html())):$("#aramasonuc").html("<p>"+a.error+"</p>"))}})):($("#search-results").removeClass("show"),$(".carousel").removeClass("hide"))});
var vm={homeVM:function(e,a){anasayfa(),temizle()},pageVM:function(e,a){pagelist(a.page,a.kat,a.sez,a.bol),temizle()},gozatVM:function(e,a){var t=a.say;null==t&&(t=1),pagelist(a.page,a.kat,t),temizle()},izleVM:function(e,a){detaylist(a.page,a.kat),temizle()}},routes={},defaultRoute="home";function temizle(){$("#aramasonuc").html(""),$("#search-results").removeClass("show"),$(".carousel").removeClass("hide"),$("#kelime").val("")}routes.home={url:"#/",templateUrl:"sayfa/home.html",viewModel:vm.homeVM},routes.page={url:"#/:page",templateUrl:"sayfa/movie.html",viewModel:vm.pageVM},routes.pagekat={url:"#/:page/:kat",templateUrl:"sayfa/movie.html",viewModel:vm.pageVM},routes.gozat={url:"#/kategori/:page/:kat",templateUrl:"sayfa/movie.html",viewModel:vm.gozatVM},routes.gozat2={url:"#/kategori/:page/:kat/:say",templateUrl:"sayfa/movie.html",viewModel:vm.gozatVM},routes.izle={url:"#/detay/:page/:kat",templateUrl:"sayfa/detay.html",viewModel:vm.izleVM},routes.dizizle={url:"#/detay/:page/:kat/:sez/:bol",templateUrl:"sayfa/detay.html",viewModel:vm.izleVM},routes.pagekatsay={url:"#/:page/:kat/:sayfa",templateUrl:"sayfa/movie.html",viewModel:vm.pageVM},$.router.setData(routes).setDefault(defaultRoute).onRouteChanged(function(e,a,t){a.viewModel&&a.viewModel(a,t)}),$.router.setData(routes).setDefault(defaultRoute),$.when($.ready).then(function(){$.router.run("main","home")}),$(".tr-movie-menu-active a").on("click",function(e){$(this).siblings(".active").removeClass("active"),$(this).addClass("active")}),$(".closemgf").on("click",function(e){$.magnificPopup.close({items:{src:"#anamenu"}})}),$(window).on("scroll",function(){$(window).scrollTop()<45?$("#menu").removeClass("menufix"):$("#menu").addClass("menufix")});